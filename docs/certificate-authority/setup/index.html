<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/default.css"> <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js" integrity="sha512-Tn2m0TIpgVyTzzvmxLNuqbSJH3JP8jm+Cy3hvHrW7ndTDcJ1w5mBiksqDBb8GpE2ksktFvDB/ykZ0mDpsZj20w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" /> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/default.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Setup | Prototypes</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Setup" /><meta property="og:locale" content="en_US" /><meta name="description" content="Made by mistake" /><meta property="og:description" content="Made by mistake" /><link rel="canonical" href="https://lopeaa.github.io/docs/certificate-authority/setup/" /><meta property="og:url" content="https://lopeaa.github.io/docs/certificate-authority/setup/" /><meta property="og:site_name" content="Prototypes" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Setup" /> <script type="application/ld+json"> {"headline":"Setup","url":"https://lopeaa.github.io/docs/certificate-authority/setup/","@type":"WebPage","description":"Made by mistake","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://lopeaa.github.io/" class="site-title lh-tight"> Prototypes </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="https://lopeaa.github.io/" class="nav-list-link">Home</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://lopeaa.github.io/docs/certificate-authority" class="nav-list-link">Certificate Authority</a><ul class="nav-list "><li class="nav-list-item active"><a href="https://lopeaa.github.io/docs/certificate-authority/setup/" class="nav-list-link active">Setup</a><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/certificate-authority/features/" class="nav-list-link">Features</a><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/certificate-authority/tools/" class="nav-list-link">Tools</a><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/certificate-authority/download/" class="nav-list-link">Download</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://lopeaa.github.io/docs/certificate-authority/code-snippets/" class="nav-list-link">Code Snippets</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://lopeaa.github.io/docs/certificate-authority/code/models/" class="nav-list-link">Models Snippets</a><li class="nav-list-item "> <a href="https://lopeaa.github.io/docs/certificate-authority/code/views/" class="nav-list-link">View Snippets</a><li class="nav-list-item "> <a href="https://lopeaa.github.io/docs/certificate-authority/code/controllers/" class="nav-list-link">Controllers Snippets</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://lopeaa.github.io/docs/operating-systems" class="nav-list-link">Operating Systems</a><ul class="nav-list "><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/operating-systems/centos/" class="nav-list-link">Centos</a><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/operating-systems/ubuntu/" class="nav-list-link">Ubuntu 20.04</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://lopeaa.github.io/docs/web-framework" class="nav-list-link">Web Frameworks</a><ul class="nav-list "><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/web-frameworks/django/" class="nav-list-link">Django</a><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/web-frameworks/laravel/" class="nav-list-link">Laravel</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://lopeaa.github.io/docs/scripts" class="nav-list-link">Scripts</a><ul class="nav-list "><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/scripts/digital-personal-id/" class="nav-list-link">Digital Personal ID</a><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/scripts/backup/" class="nav-list-link">Server Backup</a><li class="nav-list-item "><a href="https://lopeaa.github.io/docs/scripts/san/" class="nav-list-link">Subject Alternative Name</a></ul></ul></nav><footer class="site-footer"> Copyright Â© 2017-2022 <a href="https://github.com/lopeaa/">Lopeaa</a>.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Prototypes" aria-label="Search Prototypes" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/lopeaa/lopeaa.github.io/blob/master/LICENSE.txt" class="site-button" target="_blank" rel="noopener noreferrer" > Licence </a><li class="aux-nav-list-item"> <a href="//github.com/lopeaa/" class="site-button" target="_blank" rel="noopener noreferrer" > Github </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://lopeaa.github.io/docs/certificate-authority">Certificate Authority</a><li class="breadcrumb-nav-list-item"><span>Setup</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 class="no_toc" id="certificate-authority-setup"> <a href="#certificate-authority-setup" class="anchor-heading" aria-labelledby="certificate-authority-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Certificate Authority setup</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#manual-setup-ubuntu-2004-lts" id="markdown-toc-manual-setup-ubuntu-2004-lts">Manual setup (Ubuntu 20.04 LTS)</a><ol><li><a href="#pre-requisites" id="markdown-toc-pre-requisites">Pre-requisites</a><li><a href="#cloning-repository" id="markdown-toc-cloning-repository">Cloning repository</a><li><a href="#create-database" id="markdown-toc-create-database">Create Database</a><ol><li><a href="#sqlite-database" id="markdown-toc-sqlite-database">SQLite database</a><li><a href="#mysql-database" id="markdown-toc-mysql-database">MySQL database</a></ol><li><a href="#modify-env-file" id="markdown-toc-modify-env-file">Modify .env file</a><ol><li><a href="#env-params-for-sqlite" id="markdown-toc-env-params-for-sqlite">.env params for SQLite.</a><li><a href="#env-params-for-mysql" id="markdown-toc-env-params-for-mysql">.env params for MySQL.</a></ol><li><a href="#run-composer" id="markdown-toc-run-composer">Run Composer</a><li><a href="#run-migration-with-seeds" id="markdown-toc-run-migration-with-seeds">Run Migration with Seeds</a><li><a href="#generate-new-encryption-key" id="markdown-toc-generate-new-encryption-key">Generate new encryption key</a><li><a href="#recommendations" id="markdown-toc-recommendations">Recommendations</a><li><a href="#login-to-dashboard" id="markdown-toc-login-to-dashboard">Login to Dashboard</a></ol><li><a href="#vm-ova-setup" id="markdown-toc-vm-ova-setup">VM .OVA setup</a><ol><li><a href="#recomended-requirements" id="markdown-toc-recomended-requirements">Recomended requirements</a></ol></ol><hr /><h2 id="manual-setup-ubuntu-2004-lts"> <a href="#manual-setup-ubuntu-2004-lts" class="anchor-heading" aria-labelledby="manual-setup-ubuntu-2004-lts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Manual setup (Ubuntu 20.04 LTS)</h2><h3 id="pre-requisites"> <a href="#pre-requisites" class="anchor-heading" aria-labelledby="pre-requisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pre-requisites</h3><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Package<th style="text-align: left">Version<th style="text-align: left">Docs<tbody><tr><td style="text-align: left">PHP<td style="text-align: left">7.4<td style="text-align: left"><a href="//">Setup instructions</a><tr><td style="text-align: left">NGINX<td style="text-align: left">1.x<td style="text-align: left"><a href="//">Setup instructions</a><tr><td style="text-align: left">Osslsigncode<td style="text-align: left">Latest<td style="text-align: left"><a href="https://github.com/mtrojnar/osslsigncode">Setup instructions</a><tr><td style="text-align: left">OpenCA<td style="text-align: left">Latest<td style="text-align: left"><a href="//">Setup instructions</a><tr><td style="text-align: left">Curl<td style="text-align: left">Latest<td style="text-align: left"><a href="//">Setup instructions</a></table></div><h3 id="cloning-repository"> <a href="#cloning-repository" class="anchor-heading" aria-labelledby="cloning-repository"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cloning repository</h3><div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo git clone https://github.com/lopeaa/ca-mgmt-console.git
</code></pre></div></div><h3 id="create-database"> <a href="#create-database" class="anchor-heading" aria-labelledby="create-database"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create Database</h3><h4 id="sqlite-database"> <a href="#sqlite-database" class="anchor-heading" aria-labelledby="sqlite-database"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SQLite database</h4><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sudo</span> <span class="n">touch</span> <span class="n">database</span><span class="o">/</span><span class="n">database</span><span class="mf">.</span><span class="n">sqlite</span>
</code></pre></div></div><h4 id="mysql-database"> <a href="#mysql-database" class="anchor-heading" aria-labelledby="mysql-database"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> MySQL database</h4><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">CREATE</span> <span class="no">DATABASE</span> <span class="n">db_name</span><span class="p">;</span>
<span class="no">CREATE</span> <span class="no">USER</span> <span class="s1">'db_user'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="no">IDENTIFIED</span> <span class="no">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="no">GRANT</span> <span class="no">ALL</span> <span class="no">PRIVILEGES</span> <span class="no">ON</span> <span class="o">*</span> <span class="mf">.</span> <span class="o">*</span> <span class="no">TO</span> <span class="s1">'db_user'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="no">FLUSH</span> <span class="no">PRIVILEGES</span><span class="p">;</span>
</code></pre></div></div><h3 id="modify-env-file"> <a href="#modify-env-file" class="anchor-heading" aria-labelledby="modify-env-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modify .env file</h3><div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ca-mgmt-console
sudo mv .env.example .env
sudo pico .env
</code></pre></div></div><h4 id="env-params-for-sqlite"> <a href="#env-params-for-sqlite" class="anchor-heading" aria-labelledby="env-params-for-sqlite"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .env params for SQLite.</h4><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">DB_CONNECTION</span><span class="o">=</span><span class="n">sqlite</span>
<span class="no">DB_DATABASE</span><span class="o">=/</span><span class="k">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">ca</span><span class="o">-</span><span class="n">mgmt</span><span class="o">-</span><span class="n">console</span><span class="o">/</span><span class="n">database</span><span class="o">/</span><span class="n">database</span><span class="mf">.</span><span class="n">sqlite</span>
</code></pre></div></div><h4 id="env-params-for-mysql"> <a href="#env-params-for-mysql" class="anchor-heading" aria-labelledby="env-params-for-mysql"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .env params for MySQL.</h4><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">DB_CONNECTION</span><span class="o">=</span><span class="n">mysql</span>
<span class="no">DB_HOST</span><span class="o">=</span><span class="mf">127.0.0.1</span>
<span class="no">DB_PORT</span><span class="o">=</span><span class="mi">3306</span>
<span class="no">DB_DATABASE</span><span class="o">=</span><span class="n">ca</span><span class="o">-</span><span class="n">mgmt</span><span class="o">-</span><span class="n">console</span>
<span class="no">DB_USERNAME</span><span class="o">=</span><span class="n">db_user</span>
</code></pre></div></div><h3 id="run-composer"> <a href="#run-composer" class="anchor-heading" aria-labelledby="run-composer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run Composer</h3><div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo composer update
<span class="gh"># Check for Composer error and install php extensions</span>
</code></pre></div></div><h3 id="run-migration-with-seeds"> <a href="#run-migration-with-seeds" class="anchor-heading" aria-labelledby="run-migration-with-seeds"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run Migration with Seeds</h3><div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo php artisan migrate --seed
</code></pre></div></div><h3 id="generate-new-encryption-key"> <a href="#generate-new-encryption-key" class="anchor-heading" aria-labelledby="generate-new-encryption-key"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generate new encryption key</h3><div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo php artisan key:generate
</code></pre></div></div><h3 id="recommendations"> <a href="#recommendations" class="anchor-heading" aria-labelledby="recommendations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Recommendations</h3><ul><li><a href="//lopeaa.github.io/docs/operating-systems/ubuntu/#setup-nginx--lets-encrypt">Configure HTTPS</a></ul><h3 id="login-to-dashboard"> <a href="#login-to-dashboard" class="anchor-heading" aria-labelledby="login-to-dashboard"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Login to Dashboard</h3><p><a href="https://localhost/">Admin Panel</a></p><h2 id="vm-ova-setup"> <a href="#vm-ova-setup" class="anchor-heading" aria-labelledby="vm-ova-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VM .OVA setup</h2><p>For easiest setup use the <a href="//lopeaa.github.io/docs/certificate-authority/download/">.OVA Image</a></p><h3 id="recomended-requirements"> <a href="#recomended-requirements" class="anchor-heading" aria-labelledby="recomended-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Recomended requirements</h3><ul><li>At least 2GB of RAM<li>2 CPU<li>20GB of disk storage.</ul></div></div><div class="search-overlay"></div></div>
